{:tags []
     :is_new false
     :exports "chart"}

anychart.onDocumentReady(function() {

  // Data Tree
  var tree = anychart.data.tree([
    {'name': 'Node 1', 'rowHeight': '20'},
    {'name': 'Parent Node',, 'rowHeight': '20' children:[
      {'name': 'Child Node 1', 'rowHeight': '20'},
      {'name': 'Child Node 2', 'rowHeight': '20'},
    ]},
    {'name': 'Node 2', 'rowHeight': '20'}
  ]);

  // create Data Grid
  dataGrid = anychart.ui.dataGrid();

  // set Data Tree
  dataGrid.data(tree).titleHeight(20);

  // create button for Parent node
  dataGrid.listen('signal', dataGrid.draw, false, dataGrid);

  // set style for second column
  dataGrid.column(1).cellTextSettingsOverrider(labelTextSettingsOverrider);

  // draw chart
  dataGrid.container('container').height(fullChildrenHeight()+treeDataGrid.top()+treeDataGrid.titleHeight()+1).draw();

  // get height of all children of the tree
  function fullChildrenHeight() {
    var height = 0;
    var traverser = tree.getTraverser();
    traverser.reset();
    while(traverser.advance()){

      // get an item
      var currentItem = traverser.current();

      // get height of the item
      var currentHeight = currentItem.get(anychart.enums.GanttDataFields.ROW_HEIGHT);

      // if item height is undefined
      if (currentHeight !== void 0){
        height += (curentHeight + 1);
      } else {
        // if height of current item is undefined, default height is 20px + 1px row space
        height +=21;
      }
    }
    return height;
  }
});

// style setter
function labelTextSettingsOverrider(label, dataItem) {
  if (!dataItem.getParent()) {
    label.fontColor('#0055aa').fontWeight('bold').fontSize(12).fontStyle('italic');
  } else {
    if (dataItem.numChildren()) {
      label.fontColor('#559955').fontWeight('bold').fontStyle('italic');
    }
  }
}