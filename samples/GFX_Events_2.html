<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="tags" content="[]"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>
    <script src="../anychart-bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.anychart.com/css/latest/anychart-ui.min.css"/>
    <script x-export="stage">anychart.onDocumentReady(function() {
    stage = anychart.graphics.create("container");
    
    layer = stage.layer();
    
    var textObject = layer.text(70, 55, "Click on this TEXT");
    textObject.style({fontSize: "18px"});
    textObject.selectable(false);

    var counter = 0;
    
    // Adds an event listener to a text
    eventKey = textObject.listen("click", function(e) {
        counter++;
        textObject.text("You clicked " + counter + " times. ");
    });

    // Adds an event listener to a layer
    layer.listenOnce("click", function(e) {
        textObject.text(textObject.text() + "No more listening.");
        // unlisten click for the text
        textObject.unlistenByKey(eventKey);
    });
});

function getRandomColor() {
  min = Math.ceil(50);
  max = Math.floor(200);
  red = Math.floor(Math.random() * (max - min)) + min;
  green = Math.floor(Math.random() * (max - min)) + min;
  blue = Math.floor(Math.random() * (max - min)) + min;
  return "rgb("+ red + "," + green + "," + blue + ")";
}</script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>