<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="tags" content="['column' 'axis']"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>
    <script src="../anychart-bundle.min.js"></script>
    <script x-export="chart">
anychart.onDocumentReady(function() {
    stage = anychart.graphics.create("container");

    // set the data
    var table = anychart.data.table("x");
    table.addData(data_us_population());
  
    // map the data
    mapping = table.mapAs({'x':"x", 'value':"value"});

    // chart type
    chart = anychart.stock();

    // set the series
    var series = chart.plot(0).line(mapping);
    series.name("USA population growth (Object Data notation)");

    // y-axis labels formatting
    chart.plot(0).yAxis().labels().textFormatter(function(){
      return this.value + "m";
    });

    // set the chart title
    chart.title('Stock series changing demo');
    chart.title().padding(20);

    // create scroller series with values
    chart.scroller().area(table.mapAs({'value': 'value'}));

    // set the chart container
    chart.container(stage);
    chart.draw();

    // create label switching to column
    columnLabel = createLabel("Switch to Column", 10, function() {
        // change the series type
        series.seriesType("column");
        chart.title("Column");
    });    

    // create label switching to line
    lineLabel = createLabel("Switch to Line", 150, function() {
        // change the series type
        series.seriesType("line");
        chart.title("Line");
    });    

    // create label switching to area
    areaLabel = createLabel("Switch to Area", 267, function() {
        // change the series type
        series.seriesType("area");
        chart.title("Area");
    });    

    // helper function to create buttons
    function createLabel(text, offset, action){
        var label = anychart.ui.label();
        label.background({fill: "#1976d2"});
        label.text(text);
        label.fontColor("#fff");
        label.padding(5);
        label.parentBounds(offset, 5, 130, 100);    
        label.listen("click", action);
        label.container(stage);
        label.draw();
        label.listen("mouseOver", function(){
            label.background().fill("#1976d2 0.5")
            document.body.style.cursor = "pointer";
            label.draw();
        });
        label.listen("mouseOut", function(){
            label.background().fill("#1976d2")
            document.body.style.cursor = "auto";
            label.draw();
        });    
        return label;
    }   

    // data
    function data_us_population() {
    return [
        {x:'1790', value:3.929214},
        {x:'1795', value:4.390561},
        {x:'1800', value:5.236631},
        {x:'1805', value:5.989289},
        {x:'1810', value:7.239881},
        {x:'1815', value:8.722382},
        {x:'1820', value:9.638453},
        {x:'1825', value:10.923857},
        {x:'1830', value:12.866020},
        {x:'1835', value:15.454230},
        {x:'1840', value:17.069453},
        {x:'1845', value:19.234543},
        {x:'1850', value:23.191876},
        {x:'1855', value:28.347121},
        {x:'1860', value:31.443321},
        {x:'1865', value:34.098412},
        {x:'1870', value:38.558371},
        {x:'1875', value:44.728322},
        {x:'1880', value:49.371340},
        {x:'1885', value:53.989443},
        {x:'1890', value:62.979766},
        {x:'1895', value:71.883243},
        {x:'1900', value:76.212168},
        {x:'1905', value:85.023411},
        {x:'1910', value:92.228496},
        {x:'1915', value:100.378232},
        {x:'1920', value:106.021537},
        {x:'1925', value:118.323005},
        {x:'1930', value:123.202624},
        {x:'1935', value:126.232034},
        {x:'1940', value:132.164569},
        {x:'1945', value:144.773641},
        {x:'1950', value:151.325798},
        {x:'1955', value:160.460555},
        {x:'1960', value:179.323175},
        {x:'1965', value:188.232951},
        {x:'1970', value:203.211926},
        {x:'1975', value:215.789873},
        {x:'1980', value:226.545805},
        {x:'1985', value:239.905274},
        {x:'1990', value:248.709873},
        {x:'1995', value:272.119084},
        {x:'2000', value:281.421906},
        {x:'2005', value:299.456285},
        {x:'2010', value:308.745538},
        {x:'2015', value:318.914629}
    ]};


});
</script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>
