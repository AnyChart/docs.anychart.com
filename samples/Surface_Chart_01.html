<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <meta name="ac:name" content="STOCK Technical Indicators BBandsWidth 02"/>
    <meta name="ac:short-desc" content=""/>
    <meta name="ac:desc" content=""/>
    
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-core.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-stock.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-exports.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-ui.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
    <script src="https://cdn.anychart.com/csv-data/csco-daily.js"></script>
    
    <link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/{{branch-name}}/css/anychart-ui.min.css?hcode=a0c21fc77e1449cc86299c5faa067dc4" />
    
    <style>
        html, body, #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
 <body>
  <button onclick="chart.data(prepare_data(d3));">D3</button> 
  <button onclick="chart.data(prepare_data(plane));">Plane</button> 
  <button onclick="chart.data(prepare_data(cubic));">Cubic</button> 
  <br> Step: 
  <input type="number" id="step" step="0.1" value="1">
  <br> Value: 
  <input type="number" id="value" value="5" step="1"> Rotation Z: 
  <input type="range" id="rotationZ" min="-360" max="360" step="1" onInput="rotateZ()"> Rotation Y: 
  <input type="range" id="rotationY" min="-90" max="90" step="1" onInput="rotateY()"> 
  <div id="container"></div>
  <script src="https://cdn.anychart.com/releases/DVF-3061-surface-plot/js/anychart-bundle.min.js"></script>
  <script src="https://cdn.anychart.com/releases/DVF-3061-surface-plot/js/anychart-ui.min.js"></script>
  <script type="text/javascript">var prepare_data = function(z_function) {
  var max_val = +document.getElementById('value').value;
  var step = +document.getElementById('step').value;
  var output = [];
  for (var x = -max_val; x <= max_val; x += step) {
    for (var y = -max_val; y <= max_val; y += step) {
      output.push([x, y, z_function(x, y)]);
    }
  }
  return output;
};

var cubic = function(x, y) {
  return Math.pow(x + y, 3);
};

var d3 = function(x, y) {
  return Math.sin(Math.sqrt(x*x+y*y)/5*Math.PI)*50;
};

var plane = function(x, y) {
  return x + y;
};

var rotateZ = function() {
  var value = +document.getElementById('rotationZ').value;
  chart.rotationZ(value);
};

var rotateY = function() {
  var value = +document.getElementById('rotationY').value;
  chart.rotationY(value);
};

anychart.onDocumentReady(function() {
    chart = anychart.surface(prepare_data(cubic));
    chart.legend(true);
    var colorRange = chart.colorRange();
    colorRange.enabled(true);
    colorRange.orientation('right');
    chart.box(null);
    chart.xGrid(true);
    chart.yGrid(true);
    chart.zGrid(true);
 
    chart.container('container').draw();
});</script>
 </body>
</html>