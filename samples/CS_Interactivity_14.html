<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="tags" content="[]"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>
    <script src="../anychart-bundle.min.js"></script>
    <script x-export="chart">var chart, lineChart, stage;
    anychart.onDocumentReady(function () {

    // set stage
    stage = anychart.graphics.create("container");

    // data
    var data = anychart.data.set([
        ["Velma", 10, "#AB3300", 4, 3, 7, 1, 0],
        ["Fred", 12, "#66A3FF", 2, 4, 4, 0, 0],
        ["Daphne", 18, "#570FBD", 2, 3, 4, 0, 0],
        ["Shaggy", 6, "#948F45", 1, 1, 1, 4, 0],
        ["Scooby", 46, "#784512", 1, 1, 2, 1, 46]
    ]);

    var pieTitle = "And who helped them";
    var pieSubTitle = "...";

    // map data for the each series
    var dataMapping = data.mapAs({x: [0], value: [1], fill: [2]});

    // chart type
    chart = anychart.column();
    lineChart = anychart.line();

    // set data
    var series = chart.column(dataMapping); // set series data
    
    series.name("Slices of pizza");

    // chart title
    chart.title().useHtml(true);
    chart.title('<span style="color:#545f69; font-size: 18px;">How many pieces of pizza have they eaten?</span><br><span style="color:#545f69; font-size: 10px">Click on the bars.</span>');

    // set axes titles
    chart.xAxis().title().text("Retail Channel");
    chart.yAxis().title().text("Sales");

    // enable legend
    chart.legend().enabled(false);

    // switching the select mode to multi
    chart.interactivity().selectionMode("multiSelect");

    chart.bounds("0", "0", "50%", "100%");
    
    // Velmas pizza
    var lineVelmaDataMapping = data.mapAs({x: [0], fill: [2], value: [3]});
    var lineVelma = lineChart.line(lineVelmaDataMapping);
    lineVelma.enabled(false);
    
    // Freds pizza
    var lineFredDataMapping = data.mapAs({x: [0], fill: [2], value: [4]}); 
    var lineFred = lineChart.line(lineFredDataMapping);
    lineFred.enabled(false);
    
    // Daphnes pizza
    var lineDaphneDataMapping = data.mapAs({x: [0], fill: [2], value: [5]}); 
    var lineDaphne = lineChart.line(lineDaphneDataMapping);
    lineDaphne.enabled(false);
    
    // Shaggys pizza
    var lineShaggyDataMapping = data.mapAs({x: [0], fill: [2], value: [6]}); 
    var lineShaggy = lineChart.line(lineShaggyDataMapping);
    lineShaggy.enabled(false);
    
    // Scoobys sausages
    var lineScoobyDataMapping = data.mapAs({x: [0], fill: [2], value: [7]}); 
    var lineScooby = lineChart.line(lineScoobyDataMapping);
    lineScooby.enabled(false);

    chart.listen("click", function (evt) {
        var ind = evt.pointIndex;

        switch (ind) {
            case 0:
                lineVelma.enabled(!lineVelma.enabled());
                break;
            case 1:
                lineFred.enabled(!lineFred.enabled());
                break;
            case 2:
                lineDaphne.enabled(!lineDaphne.enabled());
                break;
            case 3:
                lineShaggy.enabled(!lineShaggy.enabled());
                break;
            case 4:
                lineScooby.enabled(!lineScooby.enabled());
                break;
        }
        lineChart.bounds("50%", 0, "50%", "100%");
        lineChart.container(stage).draw();
    });
    // draw
    chart.container(stage).draw();
});</script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>
