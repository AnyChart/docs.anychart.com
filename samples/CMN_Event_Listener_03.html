<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="tags" content="[]"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>
    <script src="../anychart-bundle.min.js"></script>
    <script x-export="chart">anychart.onDocumentReady(function() {
    
    var dataSet = anychart.data.set([
    {x: 'P1', value: 100},
    {x: 'P2', value: 200},
    {x: 'P3', value: 15},
    {x: 'P4', value: 130},
    {x: 'P5', value: 153},
    {x: 'P6', value: 120},
    {x: 'P7', value: 151},
    {x: 'P8', value: 58},
    {x: 'P9', value: 19},
    {x: 'P10', value: 135},
    {x: 'P11', value: 170},
    {x: 'P12', value: 195},
    {x: 'P13', value: 22},
    {x: 'P14', value: 175},
    {x: 'P15', value: 120}
  ]);

  // set chart type
  chart = anychart.lineChart();

  chart.title().text('Move the Mouse Over the Chart to Add New Points \nDoubleClick to Remove Listeners');

  // set data
  var spline = chart.spline(dataSet).markers(null);

  chart.padding().right(80);

  // disable stagger mode. Only one line for x axis labels
  chart.xAxis().staggerMode(false);

  // set container and draw chart
  chart.container('container').draw();
  
  // first index for new point
  var indexSetter = 21;
  
  //create a function what to listen and then unlisten
  var func_listen = function(){
      dataSet.append({
          // x value
          x: 'P' + indexSetter,

          // random value from 1 to 500
          value : Math.floor((Math.random() * 500)+ 1)
        });
        indexSetter++;
        dataSet.remove(0);
  };
  
    //add a listener
    var listener = chart.listen('mouseMove', func_listen);
    
    var counter = 0;
    
    //add a listener
    chart.listen('click', function(){
        counter++;
        chart.title('Clicks: '+ counter);
    });
    
    //remove all listeners
    chart.listen('dblclick', function(){
        chart.removeAllListeners();     //click twice on any range bar to see the result
    });
});</script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>