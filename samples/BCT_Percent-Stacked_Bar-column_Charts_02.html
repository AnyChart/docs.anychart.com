<!DOCTYPE html>
<html>
<head>
    <meta name="ac:name" content="BCT Percent-Stacked Bar-column Charts 02"/>
    <meta name="ac:short-desc" content=""/>
    <meta name="ac:desc" content=""/>
    <script src="https://cdn.anychart.com/js/7.6.0/anychart-bundle.min.js"></script>
    
    <link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/css/7.6.0/anychart-ui.min.css" />
    
    <style>
        html, body, #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="container"></div>
<script>
anychart.onDocumentReady(function() {
    // create data set on our data
    var dataSet = anychart.data.set([
['P1', 297, 243, 235, 223],
['P2', 184, 255, 156, 249],
['P3', 136, 199, 177, 276],
['P4', 142, 186, 242, 249],
['P5', 228, 145, 267, 297]
    ]);

    // map data for the first series, take x from the zero column and value from the first column of data set
    var seriesData_1 = dataSet.mapAs({x: [0], value: [1]});

    // map data for the second series, take x from the zero column and value from the second column of data set
    var seriesData_2 = dataSet.mapAs({x: [0], value: [2]});

    // map data for the second series, take x from the zero column and value from the third column of data set
    var seriesData_3 = dataSet.mapAs({x: [0], value: [3]});

    // map data for the fourth series, take x from the zero column and value from the fourth column of data set
    var seriesData_4 = dataSet.mapAs({x: [0], value: [4]});

    // create bar chart
    var chart = anychart.barChart();

    // force chart to stack values by Y scale.
    chart.yScale().stackMode('percent');

    // set container id for the chart
    chart.container('container');

    // set chart title text settings
    chart.title().text('100% Stacked bar Chart');

    // disable axes title
    chart.xAxis().title().enabled(false);
    chart.yAxis().title().enabled(false);

    // set yAxis labels formatting, force it to add % to values
    chart.yAxis().labels().textFormatter(function(info) {
      return info.value + '%';
    });

    // create first series with mapped data
    chart.bar(seriesData_1);

    // create second series with mapped data
    chart.bar(seriesData_2);

    // create third series with mapped data
    chart.bar(seriesData_3);

    // create fourth series with mapped data
    chart.bar(seriesData_4);

    // initiate chart drawing
    chart.draw();
});
</script>
</body>
</html>