<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="tags" content="[]"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>
    <script src="../anychart-bundle.min.js"></script>
    <script x-export="chart">anychart.onDocumentReady(function() {

  anychart.theme({
    "defaultFontSettings": {
      "fontSize": 10,
    }
  });

  //create stage for all charts
  stage = acgraph.create('container');

  var pieChart = anychart.pie([
    {'name':' Iron Hills - Dwarves', 'value': 513, fill: {color:'Rgb(70,100,70)'}},
    {'name':'Mirkwood - Elves', 'value': 1015, fill: {color:'Rgb(77,180,77)'}},
    {'name':'Esgaroth - Men', 'value': 2709, fill: {color:'Rgb(77,150,77)'}},
    {'name':'Orcs', 'value': 6232, fill: {color:'Rgb(190,30,27)'}},
    {'name':'Wargs', 'value': 4707, fill: {color:'Rgb(190,30,47)'}},
    ]);

    // set chart title text settings
  pieChart.title('Armed Forces');

  // disable legend 
  pieChart.legend(false);
  
  // set pie position and size
  pieChart.bounds(0, 0, '20%', '50%');
  
  // draw
  pieChart.container(stage);
  pieChart.draw();
  
  var columnChart = anychart.column();

  // set title
  columnChart.title('Forces Of Light');

  // set scale minimum
  columnChart.yScale().minimum(0);

    // set data
    var series = columnChart.column([
        {'x': 'Men of Esgaroth', value: 2709, fill:{color:'#CD7F32'}},
        {'x': 'Eagles', value: 1067, fill:{color:'#157DEC'}},
        {'x': 'Elves', value: 1015, fill:{color:'#008000'}},
        {'x': 'Dwarves Of The Iron Hills', value: '500', fill:{color:'#808080'}},
        {'x': "Thirteen Lions of Erebor", value: 13, fill:{color:'#C0C0C0'}},
        {'x': 'Beorn', value: 1, marker:{type:'star5', fill:'gold', size: 6, enabled: true}},
        {'x': 'Gandalf the Grey', fill:{color:'#726E6D'}, value: 1, marker:{type:'star5', fill:'#FDD017', size: 9, enabled: true}, hoverMarker: {size: 12}},
        {'x':'Bilbo Baggins', value: 1, marker:{type:'star5', fill:'#EAC117', size: 6, enabled: true}}
    ]);
    
    // remove border
    series.stroke(null);
    
    // series name
    series.name('Race')
    
    // stage labels
    columnChart.xAxis().staggerMode(true);
    
    // make scale logarithmic
    columnChart.yScale(anychart.scales.log());
    
    // set position and draw
    columnChart.bounds('20%', '0%', '80%', '50%'); 
    columnChart.container(stage);
    columnChart.draw();
    
    var scatterChart  = anychart.scatter();

    // set title
    scatterChart.title('Key Points Of The Battle');

    // draw axes and set titles
    scatterChart.xAxis().title('Battle Duration (Minutes)');
    scatterChart.yAxis().title('Enemies Left');
    
    // draw grid
    scatterChart.grid().layout('horizontal');
    scatterChart.grid().layout('vertical');
    scatterChart.minorGrid().stroke('black 0.075');

    // data
    data = anychart.data.set([
        {x: '147', value: 10005, point:'Appearance Of The Eagles', marker:{type:'star5', fill:'#EAC117', enabled: true}},
        {x: '170', value: 9000, point:'Thorin Makes Blade Rush', marker:{type:'circle', fill:'#EAC117', enabled: true}},
        {x: '236', value: 5011, point:"Gandalf's Mighty Fireball", marker:{type:'diamond', fill:'#EAC117', enabled: true}},
        {x: '277', value: 537, point:"Thranduil's Powerful Attack", marker:{type:'cross', fill:'#EAC117', enabled: true}}
    ]);
    
    var view = data.mapAs();
    
    // set data
    var scatterSeries = scatterChart.line(data);
    scatterSeries.tooltip(false);
    scatterSeries.labels().enabled(true).textFormatter(function(){
        console.log(this.getDataValue('point'));
        return view.get(
        this.index, 'point'
    )});

    // set position and draw
    scatterChart.bounds('0%', '50%', '100%', '50%');
    scatterChart.container(stage);
    scatterChart.draw();

});</script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>
