<html>
<head>
     <meta charset="UTF-8"/>
     <meta name="tags" content="[]"/>
     <meta name="index" content="1000"/>
     <meta name="is-new" content="false"/>
     <script x-export="chart">anychart.onDocumentReady(function() {
    
    var dataSet = anychart.data.set([
    {x: "P1", value: 100},
    {x: "P2", value: 200},
    {x: "P3", value: 15},
    {x: "P4", value: 130},
    {x: "P5", value: 153},
    {x: "P6", value: 120},
    {x: "P7", value: 151},
    {x: "P8", value: 58},
    {x: "P9", value: 19},
    {x: "P10", value: 135},
    {x: "P11", value: 170},
    {x: "P12", value: 195},
    {x: "P13", value: 22},
    {x: "P14", value: 175},
    {x: "P15", value: 120}
  ]);

  // set chart type
  chart = anychart.lineChart();

  chart.title().text("Move the Mouse to Add Points, DoubleClick to stop it");

  // set data
  var line = chart.line(dataSet).markers(null);

  chart.padding().right(80);

  // disable stagger mode. Only one line for x axis labels
  chart.xAxis().staggerMode(false);

  // set container and draw chart
  chart.container("container").draw();
  
  // first index for new point
  var indexSetter = 21;
  
  //create a function what to listen and then unlisten
  var func_listen = function(){
      dataSet.append({
          // x value
          x: "P" + indexSetter,

          // random value from 1 to 500
          value : Math.floor((Math.random() * 500)+ 1)
        });
        indexSetter++;
        dataSet.remove(0);
  };
  
    //add a listener
    var key = chart.listen("mouseMove", func_listen);
    
    //remove all listeners
    chart.listen("dblclick", function(){
        chart.unlistenByKey(key);     //click twice on any range bar to see the result
    });
    
});